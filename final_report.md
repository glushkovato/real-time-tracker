Отчет о реализации проекта "Трекер задач"
========================================

Выполнила
--------------
Глушкова Таисия

БПМИ145 ФКН НИУ ВШЭ  

Формальное описание задачи
--------------
http://wiki.cs.hse.ru/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BD%D0%B0%D1%8F_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0_2_%D0%BA%D1%83%D1%80%D1%81_%282016%29#.D0.9F.D1.80.D0.BE.D0.B5.D0.BA.D1.82:_.D0.A2.D1.80.D0.B5.D0.BA.D0.B5.D1.80_.D0.B7.D0.B0.D0.B4.D0.B0.D1.87_.D0.B2_.D1.80.D0.B5.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.BC_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.28.D0.90..D0.9A.D1.80.D0.B0.D1.81.D0.B0.D0.B2.D0.B8.D0.BD.D0.B0.29

Ссылки на GitHub с итоговым результатом
--------------
https://github.com/glushkovato/real­time­tracker  
https://github.com/glushkovato/real­time­tracker­code 

Введение
--------------
Среди предложенных проектов именно этот зацепил моё внимание не просто так. По описанию стало понятно, что требуется написать аналог приложения trello, которым мне посчастливилось попользоваться некоторое время. Это время выпало на первый курс моего обучения в НИУ ВШЭ, когда количество новых предметов и дедлайнов зашкаливало. 
Возможность составлять свои борды на разные темы и создавать различные карточки меня очень выручила. Например, еще в начале года я составила расписание с именами преподавателей и номерами аудиторий, куда так же записывала дз и дедлайны. 
(В тот момент еще не было приложения РУЗ'а и ботов моих одногруппников в телеграме, поэтому trello отлично справлялся.)

В результате этой небольшой предыстории мне показалось неплохой идеей написать что-то похожее, но своё. Мало того, что интересно, так еще и много новых технологий можно узнать.
Написать приложение для управления задачами, которое обладает возможностью отображать изменения в реальном времени для всех, кто в определённый момент открыл сайт, оказалось не такой простой задачей (а она такой изначально и не казалась). Наверное в большей степени из-за того, что я не использовала и десятой доли возможностей trello, в следствие чего не имела чёткого представления всех поставленных требований. 

Несмотря на различные трудности, "свою" версию подобного приложения мне всё же удалось реализовать. О чём подробнее можно узнать ниже.

Из предполагаемой функциональности удалось реализовать
--------------

**Полный перечень возможностей пользователя**:

* создание аккаунта (или открытие уже имеющегося)
* создание проекта
* редактирование проекта
* создание карточек в проекте
* редактирование карточек
* добавление участников (+/- каждый зарегистрированный пользователь имеет доступ к редактированию)
* изменение имени проекта
* удаление проекта
* изменение имени(заголовка) карточки
* добавление задач
* установление дедлайна у задачи
* удаление задачи
* удаление карточки

Используемые технологии
-------------------
**Backend**:

* Django
* Python
* SQLite

**Frontend**:

* HTML/Javascript/CSS 
* Bootstrap
    * Flexbox - для равномерного размещения карточек в борде
    * cols and rows - для разбиения страницы на колонки адаптивной ширины
* Glyphicons 
* Google Fonts

Работа над проектом
-------------------

**Список реализованых моделей:**

Следуя стандартам Django, классы моделей, испульзуемые в проекте были реализованы в файле models.py.

* Board - Борд/таблица, которую может создать каждый авторизованный пользователь (например, расписание).
* Card - Карточка, соответствующая определённому борду (например, дни недели).
* Task - Таск, задача, которую можно создать в любой из карточек.

В качестве примера можно рассмотреть реализацию класса модели Card:

class Card(models.Model):

    """
    Note:
        Each card refers to a specific board.
        One card can not belong to two boards at the same time.
        Each board can contain multiple cards.

    Attributes:
        board: ForeignKey(id of the board).
        title: Title of the card.
        text: Extra text field (unused).
        created_date: Date of creation.

    """
    board = models.ForeignKey(Board, related_name='cards')
    title = models.CharField(max_length=50)
    text = models.TextField(blank=False)
    created_date = models.DateTimeField(default=timezone.now)

    def publish(self):
        """
        Note:
            The publish method saves the card.

        """
        self.save()

    def __str__(self):
        """
        Note:
            The __str__ method returns the title of the card.

        """
        return self.title

Более подробно про схему базы данных и отношения между моделями можно узнать в составленных UML и ER диаграммах. 
Диаграммы хранятся в представленных выше репозиториях.

**Шаблоны**

base.html - оболочка для остальных страниц, к которой поключены css файлы, шрифт и прочее

login.html - страница авторизации

registration.html - страница регистрации

board_edit.html - страница с формой для создания/редактирования борда

board_detail.html - страница, отображающая содержание борда

board_list.html - страница, показывающая все существующие борды в отсортированном порядке (чем позднее дата создания, тем выше)

card_create.html - страница с формой для создания карточки

task_create.html - страница с формой для создания задачи


Django использует шаблон проектирования MVC (Model­View­Controller). 
По мере выполнения проекта последовательно дополнялись "основные" файлы models.py, urls.py и views.py.

Проблемы и их решения 
-------------------

В своём промежуточном отчёте я рассказала о наличии проблемы с созданием задач в карточках.
Также были выдвинуты два варианта решения этой проблемы.

Первый вариант - использовать AJAX и jQuery для создания формы для задачи в уже отображающейся карточке. 
В таком случае пользователю не пришлось бы обновлять страницу самостоятельно или переходить по ссылкам. 
Все изменения были бы видны сразу.

Второй вариант - сделать карточку в виде list’а, тогда названием карточки будет заголовок списка, а items списка будут представлять собой задачи.

Первый вариант без всяких сомнений вызвал больше интереса, поскольку работать с технологией AJAX ранее случай не выпадал. Поэтому прежде всего я взялась за эту реализацию задач. 
Я искренне старалась довести дело до конца (потому что казалось, я была близка), но за одной ошибкой появлялось ещё три и конца им видно не было. 
К сожалению, приняла решение приостановить попытки освоить AJAX (из-за неграмотного распределения времени работы над проектом) и попробовать другие варианты.

Скорее всего под вторым вариантом была заложена идея поиска чего-то очень удобного в использовании в какой-нибудь CSS библиотеке (например, Bootstrap или Materialize), но в процессе работы над проектом взамен этой идеи пришла третья - реализовать задачи по такому же принципу, как были реализованы карточки, привязанные к бордам. 
Собственно, этот вариант и стал успешным решением основных трудностей, с которыми довелось столкнуться. 

Приобретённые навыки и знания
-------------------

* ознакомление с принципами построения UML(activity diagram и sequence diagram) и ER диаграмм.
* знакомство с возможностями CSS библиотеки - Bootstrap 
* появилось достаточно широкое понимания принципа работы фреймфорка Django для разработки веб-проектов, который использует шаблон проектирования MVC (Model­View­Controller)
* опыт работы с кроссплатформенной базой данных SQLite
